/*
 *  parallaxr - v0.1.0
 *  Simple image parallax plugin
 *  
 *
 *  Made by Evan Hammond <evan.hammond@gmail.com>
 *  Under MIT License
 */
!function(a,b,c){function d(d,g){this.element=d,this.settings=a.extend({},f,g),this._defaults=f,this._name=e,this.previous=0,this.current=0,this.w=a(b),this.d=a(c),this.max=this.d.height()-this.w.height(),this.init()}var e="parallaxr",f={};d.prototype={init:function(){this.map=a.map(a(this.element).find(".parallaxr"),function(b){$e=a(b);var c=$e.css("background-position").replace(/%/g,"").split(" ");return{ref:$e,rate:$e.data("prate"),oPos:c,nPos:c}}),this.w.on("scroll",{plugin:this},function(a){var b=a.data.plugin;b.previous=b.current,b.current=b.w.scrollTop();for(var c=0;c<b.map.length;c++){var d=b.map[c],e=b.w.scrollTop()/d.rate,f=b.max/d.rate;e>=0&&f>=e&&(d.nPos[1]=e,b.refresh(d))}})},refresh:function(a){a.ref.css("background-position",a.nPos[0]+"% -"+a.nPos[1]+"px")}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);